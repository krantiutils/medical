# Ralph Progress Log
Started: Mon Feb  2 01:08:32 PM +0545 2026
---

## Codebase Patterns
- Monorepo uses pnpm workspaces with turbo for build orchestration
- Database package at packages/database with Prisma schema
- Web app at apps/web using Next.js 14 App Router with [lang] i18n
- Scripts should be added to both package.json (workspace) and root package.json (with filter)
- E2E tests use Playwright with fixtures in apps/web/e2e/fixtures/
- Test helpers export extended `test` with authenticated page fixtures

---

## 2026-02-02 13:30 - US-035
**E2E Tests: Playwright setup and configuration**

### What was implemented
- Installed @playwright/test package in apps/web
- Created playwright.config.ts with:
  - webServer configuration to start pnpm dev before tests
  - baseURL pointing to localhost:3000
  - Chromium-only project config (expandable)
  - CI detection for retries and parallelism
  - Screenshot/video on failure
  - Test artifact output directories
- Created e2e/ directory structure:
  - apps/web/e2e/fixtures/test-utils.ts with common helpers
- Test utilities include:
  - TEST_DATA constants (users, professionals, registration numbers)
  - Extended test fixtures: authenticatedPage, adminPage, professionalPage
  - Helper functions: login, logout, registerUser, searchFromHomepage, etc.
  - SEO assertion helpers: assertMetaTags, assertJsonLd
- Added scripts to package.json:
  - test:e2e, test:e2e:ui, test:e2e:headed
- Created .env.test with test database configuration
- Updated GitHub Actions CI:
  - Added e2e job that runs after build
  - PostgreSQL service for test database
  - Playwright browser installation
  - Artifact upload on failure

### Files changed
- apps/web/playwright.config.ts (NEW)
- apps/web/e2e/fixtures/test-utils.ts (NEW)
- apps/web/.env.test (NEW)
- apps/web/package.json (MODIFIED)
- apps/web/.eslintrc.json (MODIFIED)
- package.json (MODIFIED)
- .github/workflows/ci.yml (MODIFIED)
- .gitignore (MODIFIED)
- pnpm-lock.yaml (MODIFIED)

### Learnings for future iterations
- Playwright webServer config needs DATABASE_URL and NEXTAUTH_* env vars
- Use `npx playwright install --with-deps chromium` in CI for browser setup
- Extended test fixtures allow authenticated pages without repetitive login
- TEST_DATA constants should match seeded test data (see US-036)
- CI e2e job should depend on build job to avoid running tests on broken code

---
